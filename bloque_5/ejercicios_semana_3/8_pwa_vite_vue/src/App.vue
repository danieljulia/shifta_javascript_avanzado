<template>
  <div class="app">
    <header class="header">
      <h1>ðŸ“± PWA con Vue + Vite</h1>
      <p>Ejemplo simple de Progressive Web App</p>
      <div class="pwa-status" :class="online ? 'online' : 'offline'">
        <span class="dot"></span>
        {{ online ? 'Online' : 'Offline â€” funciona sin conexiÃ³n' }}
      </div>
    </header>

    <!-- Banner de instalaciÃ³n -->
    <InstallBanner />

    <main class="body">
      <!-- Componente de notas guardadas localmente -->
      <NotesList />

      <!-- Info sobre la PWA -->
      <div class="info-box">
        <strong>Â¿QuÃ© hace esta PWA?</strong>
        âœ… Funciona offline (Service Worker + cache)<br>
        âœ… Instalable en mÃ³vil y escritorio<br>
        âœ… Guarda notas en <code>localStorage</code><br>
        âœ… Manifest con nombre, colores e iconos
      </div>
    </main>
  </div>
</template>

<script>
import NotesList from './components/NotesList.vue'
import InstallBanner from './components/InstallBanner.vue'

export default {
  name: 'App',
  components: { NotesList, InstallBanner },
  data() {
    return {
      online: navigator.onLine
    }
  },
  mounted() {
    window.addEventListener('online',  () => { this.online = true  })
    window.addEventListener('offline', () => { this.online = false })
  }
}
</script>
